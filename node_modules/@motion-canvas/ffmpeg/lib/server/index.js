"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const plugins_1 = require("@motion-canvas/vite-plugin/lib/plugins");
const FFmpegBridge_1 = require("./FFmpegBridge");
exports.default = () => {
    let config;
    return {
        name: 'motion-canvas/ffmpeg',
        [plugins_1.PLUGIN_OPTIONS]: {
            entryPoint: '@motion-canvas/ffmpeg/lib/client',
            async config(value) {
                config = value;
            },
        },
        configureServer(server) {
            new FFmpegBridge_1.FFmpegBridge(server.ws, config);
        },
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zZXJ2ZXIvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxvRUFJZ0Q7QUFDaEQsaURBQTRDO0FBRTVDLGtCQUFlLEdBQVcsRUFBRTtJQUMxQixJQUFJLE1BQW9CLENBQUM7SUFDekIsT0FBTztRQUNMLElBQUksRUFBRSxzQkFBc0I7UUFDNUIsQ0FBQyx3QkFBYyxDQUFDLEVBQUU7WUFDaEIsVUFBVSxFQUFFLGtDQUFrQztZQUM5QyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUs7Z0JBQ2hCLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDakIsQ0FBQztTQUNGO1FBQ0QsZUFBZSxDQUFDLE1BQU07WUFDcEIsSUFBSSwyQkFBWSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDdEMsQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUMifQ==