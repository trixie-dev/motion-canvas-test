const INITIALIZERS = Symbol.for('@motion-canvas/2d/decorators/initializers');
export function addInitializer(target, initializer) {
    if (!target[INITIALIZERS]) {
        target[INITIALIZERS] = [];
    }
    else if (
    // if one of the prototypes has initializers
    target[INITIALIZERS] &&
        // and it's not the target object itself
        !Object.prototype.hasOwnProperty.call(target, INITIALIZERS)) {
        const base = Object.getPrototypeOf(target);
        target[INITIALIZERS] = [...base[INITIALIZERS]];
    }
    target[INITIALIZERS].push(initializer);
}
export function initialize(target, context) {
    if (target[INITIALIZERS]) {
        try {
            target[INITIALIZERS].forEach((initializer) => initializer(target, context));
        }
        catch (e) {
            e.inspect ?? (e.inspect = target.key);
            throw e;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdGlhbGl6ZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xpYi9kZWNvcmF0b3JzL2luaXRpYWxpemVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLDJDQUEyQyxDQUFDLENBQUM7QUFJN0UsTUFBTSxVQUFVLGNBQWMsQ0FBSSxNQUFXLEVBQUUsV0FBMkI7SUFDeEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtRQUN6QixNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxDQUFDO0tBQzNCO1NBQU07SUFDTCw0Q0FBNEM7SUFDNUMsTUFBTSxDQUFDLFlBQVksQ0FBQztRQUNwQix3Q0FBd0M7UUFDeEMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFlBQVksQ0FBQyxFQUMzRDtRQUNBLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztLQUNoRDtJQUVELE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDekMsQ0FBQztBQUVELE1BQU0sVUFBVSxVQUFVLENBQUMsTUFBVyxFQUFFLE9BQWE7SUFDbkQsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7UUFDeEIsSUFBSTtZQUNGLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUE2QixFQUFFLEVBQUUsQ0FDN0QsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FDN0IsQ0FBQztTQUNIO1FBQUMsT0FBTyxDQUFNLEVBQUU7WUFDZixDQUFDLENBQUMsT0FBTyxLQUFULENBQUMsQ0FBQyxPQUFPLEdBQUssTUFBTSxDQUFDLEdBQUcsRUFBQztZQUN6QixNQUFNLENBQUMsQ0FBQztTQUNUO0tBQ0Y7QUFDSCxDQUFDIn0=